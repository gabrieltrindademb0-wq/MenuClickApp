<!doctype html>
<html lang="pt-br" data-theme="light">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Card√°pio ‚Ä¢ MenuClick</title>
  <link rel="stylesheet" href="./css/styles.css"/>
</head>
<body class="mc-app" class="ifood">
  <div class="mc-shell">
  <header class="ifoodTopbar">
    <div class="container ifoodTopbar__inner">
      <a class="mc-brand" href="./index.html" aria-label="MenuClick">
        <img class="mc-brand__logo" src="./assets/logo-menuclick.png" alt="MenuClick"/>
        <span class="mc-brand__name">MenuClick</span>
      </a>
<button class="ifoodIconBtn ifoodIconBtn--ghost" id="themeToggle" type="button" aria-label="Alternar tema" aria-pressed="false"><span data-icon>üåô</span></button>
      <a class="ifoodIconBtn" href="./index.html" aria-label="Voltar">‚Üê</a>
      <div class="ifoodTopbar__title">Card√°pio</div>
      <div style="width:40px"></div>
    </div>
  </header>

  <main class="container ifoodPage">
    <section class="restHero">
      <div class="restHero__left">
        <div class="restAvatar" id="restAvatar">R</div>
        <div>
          <h1 class="restName" id="restName">Restaurante</h1>
          <div class="restMeta">
            <span class="pill">‚≠ê 4,7</span>
            <span class="dot">‚Ä¢</span>
            <span class="pill">30‚Äì45 min</span>
            <span class="dot">‚Ä¢</span>
            <span class="pill">Entrega</span>
          </div>
        </div>
      </div>
    </section>

    <div class="ifoodSearch">
      <span class="ifoodSearch__icon">üîé</span>
      <input id="itemSearch" type="text" placeholder="Buscar no card√°pio" autocomplete="off" />
      <button class="ifoodIconBtn ifoodIconBtn--ghost" id="clearSearch" aria-label="Limpar">‚úï</button>
    </div>

    <div class="chips" id="catChips"></div>

    <div class="menuList" id="menuList"></div>
  </main>

  <div class="cartBar hidden" id="cartBar">
    <div class="cartBar__info">
      <div class="cartBar__items"><span id="cartCount">0</span> itens</div>
      <div class="cartBar__total" id="totalDisplay">R$ 0,00</div>
    </div>
    <button class="ifoodPrimary" id="openBagBtn" type="button">Ver sacola</button>
  </div>

  <div class="sheet hidden" id="cartSheet" aria-hidden="true">
    <div class="sheet__backdrop" id="sheetCloseBg"></div>
    <div class="sheet__panel" role="dialog" aria-modal="true">
      <div class="sheet__header">
        <div class="sheet__title">Sua sacola</div>
        <button class="ifoodIconBtn" id="sheetClose" aria-label="Fechar">‚úï</button>
      </div>
      <div class="sheet__content">
        <div class="bagList" id="bagList"></div>
      </div>
      <div class="sheet__footer">
        <div class="sheet__totalRow">
          <span>Total</span>
          <strong id="sheetTotal">R$ 0,00</strong>
        </div>
        <button class="ifoodPrimary ifoodPrimary--block" id="finishBtn" disabled>Finalizar pedido</button>
      </div>
    </div>

    <div class="mc-sheet-body">
      <div id="cartItems"></div>

      <div id="cartEmpty" class="mc-card" style="padding:16px;display:none">
        <div class="mc-title" style="margin:0 0 6px 0">Sua sacola est√° vazia</div>
        <div class="mc-desc" style="min-height:auto">Adicione itens para continuar.</div>
      </div>

      <div class="mc-divider"></div>

      <div class="mc-row">
        <div class="mc-muted">Subtotal</div>
        <div style="font-weight:1000" id="subtotal">R$ 0,00</div>
      </div>
      <div class="mc-row" style="margin-top:6px">
        <div class="mc-muted">Taxa</div>
        <div style="font-weight:1000" id="fee">R$ 0,00</div>
      </div>
      <div class="mc-divider"></div>
      <div class="mc-row">
        <div style="font-weight:1000">Total</div>
        <div style="font-weight:1000" id="total">R$ 0,00</div>
      </div>
    </div>

    <div class="mc-sheet-foot">
      <button class="mc-primary" id="finishBtn" type="button" disabled>Finalizar pedido</button>
      <button class="mc-secondary" id="continueBtn" type="button">Continuar comprando</button>
    </div>
  </section>

  <!-- Product sheet -->
  <section class="mc-sheet" id="productSheet" aria-label="Produto">
    <div class="mc-sheet-head">
      <div style="width:100%">
        <div class="grab" aria-hidden="true"></div>
        <div class="mc-row">
          <div>
            <div class="mc-sheet-title" id="pName">Produto</div>
            <div class="mc-muted" style="font-size:12px;margin-top:2px" id="pPrice">‚Äî</div>
          </div>
          <button class="mc-close" type="button" id="closeProductBtn">‚úï</button>
        </div>
      </div>
    </div>

    <div class="mc-sheet-body">
      <div class="mc-thumb" id="pThumb" style="width:100%;height:160px;border-radius:18px"></div>
      <p class="mc-muted" id="pDesc" style="margin:12px 2px 0;line-height:1.45"></p>

      <div style="margin-top:14px">
        <div style="font-weight:1000;margin:0 0 8px 2px">Observa√ß√µes</div>
        <textarea class="mc-textarea" id="pNotes" maxlength="140" placeholder="Ex.: sem cebola, maionese √† parte..."></textarea>
        <div class="mc-counter">
          <span class="mc-muted">Opcional</span>
          <span class="mc-muted"><span id="notesCount">0</span>/140</span>
        </div>
      </div>

      <div style="margin-top:14px" class="mc-row">
        <div style="font-weight:1000">Quantidade</div>
        <div class="mc-qty">
          <button type="button" id="pMinus">‚àí</button>
          <strong id="pQty">1</strong>
          <button type="button" id="pPlus">+</button>
        </div>
      </div>
    </div>

    <div class="mc-sheet-foot">
      <button class="mc-primary" id="pAddBtn" type="button">Adicionar √† sacola</button>
    </div>
  </section>

  <script type="module">
    import { initThemeToggle } from "./js/theme.js";
    initThemeToggle();

    // Atalho "/" para focar busca do card√°pio
    window.addEventListener("keydown", (e) => {
      if (e.key === "/" && !e.ctrlKey && !e.metaKey && !e.altKey) {
        const tag = (document.activeElement?.tagName || "").toLowerCase();
        if (tag !== "input" && tag !== "textarea") {
          e.preventDefault();
          document.getElementById("productSearch")?.focus();
        }
      }
    });
  </script>
  <script type="module" src="./js/menu.js"></script>
  </div>
  <div id="mcToast" class="mc-toast"></div>
</body>
</html>
